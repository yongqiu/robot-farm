<div class="authority">
  <div class="avgTable">
    <button nz-button nzType="primary" (click)="showRoles()">创建用户</button>
    <button nz-button nzType="primary">创建角色</button>
    <nz-table #avgTable nzBordered [nzData]="dataSet" [nzPageSize]="8">
      <thead>
        <tr>
          <th nzWidth="5%">序号</th>
          <th nzWidth="10%">用户角色</th>
          <th nzWidth="10%">用户名</th>
          <th nzWidth="10%">昵称</th>
          <th nzWidth="8%">操作</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of avgTable.data;let i = index">
          <td>
            {{data.index}}
          </td>
          <td>
            {{data.role}}
          </td>
          <td>
            {{data.username}}
          </td>
          <td>
            {{data.nickname}}
          </td>
          <td>
            <div class="editable-row-operations">
              <a>编辑</a>
            </div>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </div>
</div>


<nz-modal [(nzVisible)]="roleModalView" nzTitle="创建角色" (nzOnCancel)="roleModalView = false" (nzOnOk)="submitCreate()">
  <div class="role-form" *ngIf="this.permission !={}">
    <div class="row">
      <p class="title">请输入角色名称</p>
      <input nz-input placeholder="请输入角色名称" [(ngModel)]="rolename">
    </div>
    <p class="title">请选择权限</p>
    <div class="checkbox">
      <p>
        <label nz-checkbox [(ngModel)]="this.permission['生产任务']">生产任务</label>
        <label nz-checkbox [(ngModel)]="this.permission['设备检测']">设备检测</label>
        <label nz-checkbox [(ngModel)]="this.permission['地表管理']">地表管理</label>
      </p>
      <p>
        <label nz-checkbox [(ngModel)]="this.permission['蔬菜管理']">蔬菜管理</label>
        <label nz-checkbox [(ngModel)]="this.permission['权限管理']">权限管理</label>
        <label nz-checkbox [(ngModel)]="this.permission['栽培架管理']">栽培架管理</label>
      </p>
    </div>
  </div>
</nz-modal>